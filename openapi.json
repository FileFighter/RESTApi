{"openapi":"3.0.1","info":{"title":"FileFighter REST Endpoint","description":"FileFighter Spring-Boot REST Endpoint","contact":{"name":"FileFighter Development Team","url":"https://blog.filefighter.de","email":"dev@filefighter.de"},"license":{"name":"GPL v3.0","url":"https://github.com/filefighter/restapi/blob/master/LICENSE"},"version":"0.0.7"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"tags":[{"name":"FileSystem","description":"FileSystem Controller"},{"name":"User","description":"User Controller"},{"name":"Permissions","description":"Permissions Controller"},{"name":"SystemHealth","description":"SystemHealth Controller"}],"paths":{"/v1/users/{userId}/edit":{"put":{"tags":["User"],"operationId":"updateUser","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"Authorization","in":"header","required":false,"schema":{"type":"string","default":"Bearer token"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegisterForm"}}},"required":true},"responses":{"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}}}}},"/v1/filesystem/{fsItemId}/update":{"put":{"tags":["FileSystem"],"operationId":"updateExistingFileOrFolder","parameters":[{"name":"fsItemId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"Authorization","in":"header","required":false,"schema":{"type":"string","default":"Bearer token"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileSystemItemUpdate"}}},"required":true},"responses":{"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/FileSystemItem"}}}}}}},"/v1/filesystem/{fsItemId}/permission":{"get":{"tags":["Permissions"],"operationId":"getPermissionSetForFileOrFolder","parameters":[{"name":"fsItemId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"Authorization","in":"header","required":false,"schema":{"type":"string","default":"Bearer token"}}],"responses":{"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PermissionSet"}}}}}},"put":{"tags":["Permissions"],"operationId":"addUsersOrGroupsToPermissionSetForFileOrFolder","parameters":[{"name":"fsItemId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"Authorization","in":"header","required":false,"schema":{"type":"string","default":"Bearer token"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PermissionRequest"}}},"required":true},"responses":{"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}}}},"delete":{"tags":["Permissions"],"operationId":"removeUsersOrGroupsFromPermissionSetForFileOrFolder","parameters":[{"name":"fsItemId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"Authorization","in":"header","required":false,"schema":{"type":"string","default":"Bearer token"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PermissionRequest"}}},"required":true},"responses":{"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}}}}},"/v1/users/register":{"post":{"tags":["User"],"operationId":"registerNewUser","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"type":"string","default":"Bearer admin-token"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegisterForm"}}},"required":true},"responses":{"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}}}}},"/v1/filesystem/upload":{"post":{"tags":["FileSystem"],"operationId":"uploadFileOrFolder","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"type":"string","default":"Bearer token"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileSystemItemUpdate"}}},"required":true},"responses":{"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/FileSystemItem"}}}}}}},"/v1/users/{userId}/info":{"get":{"tags":["User"],"operationId":"getUserInfo","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"Authorization","in":"header","required":false,"schema":{"type":"string","default":"Bearer token"}}],"responses":{"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/v1/users/login":{"get":{"tags":["User"],"operationId":"loginWithUsernameAndPassword","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"type":"string","default":"Basic S2V2aW46MTIzNA=="}}],"responses":{"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/RefreshToken"}}}}}}},"/v1/users/find":{"get":{"tags":["User"],"operationId":"findUserByUsername","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"type":"string","default":"Bearer token"}},{"name":"username","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/v1/users/auth":{"get":{"tags":["User"],"operationId":"getAccessToken","parameters":[{"name":"Authorization","in":"header","required":false,"schema":{"type":"string","default":"Bearer token"}}],"responses":{"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AccessToken"}}}}}}},"/v1/filesystem/{fsItemId}/info":{"get":{"tags":["FileSystem"],"operationId":"getFileOrFolderInfo","parameters":[{"name":"fsItemId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"Authorization","in":"header","required":false,"schema":{"type":"string","default":"Bearer token"}}],"responses":{"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/FileSystemItem"}}}}}}},"/v1/filesystem/search":{"get":{"tags":["FileSystem"],"operationId":"searchFileOrFolderByName","parameters":[{"name":"name","in":"query","required":false,"schema":{"type":"string","default":"name"}},{"name":"Authorization","in":"header","required":false,"schema":{"type":"string","default":"Bearer token"}}],"responses":{"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/FileSystemItem"}}}}}}},"/v1/filesystem/contents":{"get":{"tags":["FileSystem"],"operationId":"getContentsOfFolder","parameters":[{"name":"X-FF-PATH","in":"header","required":false,"schema":{"type":"string","default":"/"}},{"name":"Authorization","in":"header","required":false,"schema":{"type":"string","default":"Bearer token"}}],"responses":{"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FileSystemItem"}}}}}}}},"/health":{"get":{"tags":["SystemHealth"],"operationId":"getSystemHealthInfo","responses":{"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SystemHealth"}}}}}}},"/v1/filesystem/{fsItemId}/delete":{"delete":{"tags":["FileSystem"],"operationId":"deleteFileOrFolder","parameters":[{"name":"fsItemId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"Authorization","in":"header","required":false,"schema":{"type":"string","default":"Bearer token"}}],"responses":{"409":{"description":"Conflict","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"400":{"description":"Bad Request","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"404":{"description":"Not Found","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"401":{"description":"Unauthorized","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ServerResponse"}}}}}}}},"components":{"schemas":{"ServerResponse":{"type":"object","properties":{"message":{"type":"string"},"status":{"type":"string"}}},"UserRegisterForm":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"},"confirmationPassword":{"type":"string"},"groupIds":{"type":"array","items":{"type":"integer","format":"int64"}}}},"FileSystemItemUpdate":{"type":"object","properties":{"name":{"type":"string"},"type":{"type":"string","enum":["UNDEFINED","FOLDER","TEXT","PICTURE","PDF","AUDIO","VIDEO"]},"size":{"type":"number","format":"double"}}},"FileSystemItem":{"type":"object","properties":{"fileSystemId":{"type":"integer","format":"int64"},"path":{"type":"string"},"name":{"type":"string"},"size":{"type":"number","format":"double"},"createdByUser":{"$ref":"#/components/schemas/User"},"lastUpdated":{"type":"integer","format":"int64"},"type":{"type":"string","enum":["UNDEFINED","FOLDER","TEXT","PICTURE","PDF","AUDIO","VIDEO"]},"shared":{"type":"boolean"}}},"User":{"type":"object","properties":{"userId":{"type":"integer","format":"int64"},"username":{"type":"string"},"groups":{"type":"array","items":{"type":"string","enum":["UNDEFINED","FAMILY","ADMIN","SYSTEM"]}}}},"PermissionRecipient":{"type":"object","properties":{"permissionRecipientType":{"type":"string","enum":["GROUP","USER"]},"userOrGroupId":{"type":"integer","format":"int64"}}},"PermissionRequest":{"type":"object","properties":{"permission":{"type":"string","enum":["READ_ACCESS","WRITE_ACCESS"]},"permissionRecipients":{"type":"array","items":{"$ref":"#/components/schemas/PermissionRecipient"}}}},"RefreshToken":{"type":"object","properties":{"tokenValue":{"type":"string"},"user":{"$ref":"#/components/schemas/User"}}},"AccessToken":{"type":"object","properties":{"tokenValue":{"type":"string"},"userId":{"type":"integer","format":"int64"},"validUntil":{"type":"integer","format":"int64"}}},"PermissionSet":{"type":"object","properties":{"visibleForGroups":{"type":"array","items":{"type":"string","enum":["UNDEFINED","FAMILY","ADMIN","SYSTEM"]}},"editableForGroups":{"type":"array","items":{"type":"string","enum":["UNDEFINED","FAMILY","ADMIN","SYSTEM"]}},"visibleForUsers":{"type":"array","items":{"$ref":"#/components/schemas/User"}},"editableForUsers":{"type":"array","items":{"$ref":"#/components/schemas/User"}}}},"SystemHealth":{"type":"object","properties":{"uptimeInSeconds":{"type":"integer","format":"int64"},"userCount":{"type":"integer","format":"int64"},"usedStorageInBytes":{"type":"number","format":"double"},"dataIntegrity":{"type":"string","enum":["STABLE","POSSIBLE_RISK","UNSTABLE"]},"deployment":{"type":"string"},"version":{"type":"string"}}}}}}